<!DOCTYPE html>
<html
  dir="ltr"
  lang="en"
  data-theme=""
  class="html"
><head>
  <title>
    LofiCafe
        |
        LofiCafe&#39;s Blog


      


    

  </title>

  
  <meta charset="utf-8" /><meta name="generator" content="Hugo 0.84.4" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="author" content="LofiCafe" />
  <meta
    name="description"
    content="Blog about tech and life"
  />
  
  
    
    
    <link
      rel="stylesheet"
      href="/scss/main.min.b2e0cb07595e3519ab1193bb421914e06c0e26b0cc561fef23b3c6131d4d2ffa.css"
      integrity="sha256-suDLB1leNRmrEZO7QhkU4GwOJrDMVh/vI7PGEx1NL/o="
      crossorigin="anonymous"
      type="text/css"
    />

  

  
  <link
    rel="stylesheet"
    href="/css/markupHighlight.min.31b0a1f317f55c529a460897848c97436bb138b19c399b37de70d463a8bf6ed5.css"
    integrity="sha256-MbCh8xf1XFKaRgiXhIyXQ2uxOLGcOZs33nDUY6i/btU="
    crossorigin="anonymous"
    type="text/css"
  />
  
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/fontawesome.min.7d272de35b410fb165377550cdf9c4d3a80fbbcc961e111914e4d5c0eaf5729f.css"
    integrity="sha256-fSct41tBD7FlN3VQzfnE06gPu8yWHhEZFOTVwOr1cp8="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/solid.min.55d8333481b07a08e07cf6f37319753a2b47e99f4c395394c5747b48b495aa9b.css"
    integrity="sha256-VdgzNIGwegjgfPbzcxl1OitH6Z9MOVOUxXR7SLSVqps="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/regular.min.a7448d02590b43449364b6b5922ed9af5410abb4de4238412a830316dedb850b.css"
    integrity="sha256-p0SNAlkLQ0STZLa1ki7Zr1QQq7TeQjhBKoMDFt7bhQs="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/brands.min.9ed75a5d670c953fe4df935937674b4646f92674367e9e66eb995bb04e821647.css"
    integrity="sha256-ntdaXWcMlT/k35NZN2dLRkb5JnQ2fp5m65lbsE6CFkc="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />

  <link rel="canonical" href="https://treeboylife.com/" />

  
  <link rel="alternate" type="application/rss+xml" href="/index.xml" title="LofiCafe's Blog" />


  
  
  
  <script
    type="text/javascript"
    src="/js/anatole-header.min.46e6a54097480084f8f52c20ca1aa7425b4fad17029a887fd4017b12e311a72d.js"
    integrity="sha256-RualQJdIAIT49SwgyhqnQltPrRcCmoh/1AF7EuMRpy0="
    crossorigin="anonymous"
  ></script>

  
    
    
    <script
      type="text/javascript"
      src="/js/anatole-theme-switcher.min.5557c8ff5617a01067ac258fd70b9b992506e379317b0da51e5e0f6e018b408a.js"
      integrity="sha256-VVfI/1YXoBBnrCWP1wubmSUG43kxew2lHl4PbgGLQIo="
      crossorigin="anonymous"
    ></script>

  

  


  
  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="LofiCafe&#39;s Blog"/>
<meta name="twitter:description" content="Blog about tech and life"/>



  
  <meta property="og:title" content="LofiCafe&#39;s Blog" />
<meta property="og:description" content="Blog about tech and life" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://treeboylife.com/" />




  
  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "WebSite",
      "name": "LofiCafe's Blog",
      "url": "https:\/\/treeboylife.com",
      "description": "Blog about tech and life",
      "thumbnailUrl": "https:\/\/treeboylife.com",
      "license": ""
    }
  </script>



</head>
<body
    
      class="body theme--light"

    
  >
    <div class="wrapper">
      <aside
        
          class="wrapper__sidebar"

        
      ><div
  class="sidebar
    animated fadeInDown

  "
>
  <div class="sidebar__content">
    <div class="sidebar__introduction">
      <img
        class="sidebar__introduction-profileimage"
        src="/"
        alt="profile picture"
      />
      
        <h1 class="sidebar__introduction-title">
          <a href="/"></a>
        </h1>

      
      <div class="sidebar__introduction-description">
        <p>Blog about tech and life</p>
      </div>
    </div>
    <ul class="sidebar__list">
      
    </ul>
  </div><footer class="footer footer__sidebar">
  <ul class="footer__list">
    <li class="footer__item">
      &copy;
      
        LofiCafe
        2022


      
    </li>
    
  </ul>
</footer>
  
  <script
    type="text/javascript"
    src="/js/medium-zoom.min.fae9ac8895995fe91958b3954be11e96025824a04770726a3531e119ddd2d576.js"
    integrity="sha256-&#43;umsiJWZX&#43;kZWLOVS&#43;EelgJYJKBHcHJqNTHhGd3S1XY="
    crossorigin="anonymous"
  ></script></div>
</aside>
      <main
        
          class="wrapper__main"

        
      >
        <header class="header"><div
  class="
    animated fadeInDown

  "
>
  <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
    <span aria-hidden="true" class="navbar-burger__line"></span>
    <span aria-hidden="true" class="navbar-burger__line"></span>
    <span aria-hidden="true" class="navbar-burger__line"></span>
  </a>
  <nav class="nav">
    <ul class="nav__list" id="navMenu">
      
      
        
        
          <li class="nav__list-item">
            <a
              
                class="nav__link--active"

              
              href="/"
              
              title=""
              >Blog</a
            >
          </li>

        


      
        
        
          <li class="nav__list-item">
            <a
              
              href="/categories"
              
              title=""
              >Categories</a
            >
          </li>

        


      
        
        
          <li class="nav__list-item">
            <a
              
              href="/tags"
              
              title=""
              >Tags</a
            >
          </li>

        


      
        
        
          <li class="nav__list-item">
            <a
              
              href="/about"
              
              title=""
              >About</a
            >
          </li>

        


      
        
        
          <li class="nav__list-item">
            <a
              
              href="/blogroll"
              
              title=""
              >Blogroll</a
            >
          </li>

        


      
    </ul>
    <ul class="nav__list nav__list--end">
      
      
        <li class="nav__list-item">
          <div class="themeswitch">
            <a title="Switch Theme">
              <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a>
          </div>
        </li>

      
    </ul>
  </nav>
</div>
</header>
  <div
    class="post 
      animated fadeInDown

    "
  >
    <div class="post__content">
      
    </div>

    
  </div>

  

  
  
    <div
      class="post 
        animated fadeInDown

      "
    >
      
      <div class="post__content">
        <h3><a href="/blog/struct-in-rust/">STURCT IN RUST</a></h3>
        
          <p>结构体 在Rust语言中，我们可以使用和C/C++一样的关键字struct去声明一个结构体
结构体声明 假设我们需要声明一个方形解构，可以在Rust中使用以下声明
struct Rectangle{width: u32,height: u32,}初始化一个实例 // 不可变实例 letrect1=Rectangle{width: 30,height: 60,};// 可变 letmutrect2=Rectangle{width: 30,height: 60,};访问结构体成员 println!(&quot;height: {}, width: {}&quot;,rect1.width,rect1.height);直接打印结构体 我们不能直接使用**println!**这个宏去打印结构体。需要对结构体进行修改，添加注解，如下
#[derive(Debug)]struct Rectangle{width: u32,height: u32,}println!(&quot;rect1: {:#?}&quot;,rect1);方法 方法与函数十分类似：它们都使用fn关键字以及一个名称来声明；它们都可以拥有参数和返回值；另外，它们都包含了一段在调用时执行的代码。方法总是被定义在某个结构体（或者枚举类型、trait对象）并且它们的第一个参数永远都是self，用于指代调用该方法的结构体实例
implRectangle{fn area(&amp;self)-&gt; u32 {self.width*self.height}}// 调用 rect1.area();方法也可以传入多个参数，假设我们想实现一个方法去判断一个方形是否能容纳另外一个方形解构，如下
implRectangle{fn can_hold(&amp;self,other: &amp;Rectangle){self.width&gt;other.width&amp;&amp;self.height&gt;other.height}}// 调用方式 letrect2=Rectangle{width: 300,height: 5000,};rect1.can_hold(&amp;rect2);关联函数 除了方法，impl块还允许我们定义不用接收self作为参数的函数。由于这类函数与结构体互相关联，所以它们也被称为关联函数（associated function）。我们将其命名为函数而不是方法，是因为它们不会作用于某个具体的结构体实例，我们之前在Rust中使用的String::from就是关联函数的一种。关联函数常常被用作构造器来返回一个结构体的新实例。
implRectangle{fn square(size: u32)-&gt; Rectangle{Rectangle{width: size,height: size}}}// 调用 letsq=Rectangle::square(3);</p>

        
        </div>

      
      <div class="post__footer">
        <em class="fas fa-calendar-day"></em>
        <span class="post__footer-date"
          >
            
              Mon, Sep 12, 2022


            


          </span
        >
        
          <span><a class="category" href="/categories/2021/">2021</a><a class="category" href="/categories/rust/">Rust</a></span>




        

        
          <span><a class="tag" href="/tags/rust/">Rust</a></span>




        
      </div>
    </div>

  
    <div
      class="post 
        animated fadeInDown

      "
    >
      
      <div class="post__content">
        <h3><a href="/blog/leetcode-217/">LEETCODE 217</a></h3>
        
          <p><ol start="217">
<li>Contains Duplicate 挺简单的一道题目，一开始想用暴力点求解，但是感觉太蠢了，用hash表秒过
class Solution { public: bool containsDuplicate(vector&lt;int&gt;&amp; nums) { unordered_map&lt;int, int&gt; hashmap; for (int i = 0; i &lt; nums.size(); i++) { unordered_map&lt;int, int&gt;::const_iterator got = hashmap.find(nums[i]); if (got == hashmap.end()) { hashmap.insert({nums[i], i}); continue; } else { return true; } } return false; } };</li>
</ol>
</p>

        
        </div>

      
      <div class="post__footer">
        <em class="fas fa-calendar-day"></em>
        <span class="post__footer-date"
          >
            
              Sun, Jul 10, 2022


            


          </span
        >
        
          <span><a class="category" href="/categories/leetcode/">leetcode</a></span>




        

        
      </div>
    </div>

  
    <div
      class="post 
        animated fadeInDown

      "
    >
      
      <div class="post__content">
        <h3><a href="/blog/pimpl-more-stable-apis/">PIMPL MORE STABLE APIS</a></h3>
        
          <p>Pimpl a.k.a (Pointer to implentation) 是一种现代C++技术，用于隐藏实现，尽量减少耦合，并分离接口。
为什么使用pimpl？ 在软件开发中，使用Pimpl有一下三点好处
最小化编译依赖 实现接口和实现的分离 可移植性  Pimpl头文件 #ifndef IMPL_PERSON_H #define IMPL_PERSON_H #include &lt;string&gt;#include &lt;memory&gt; class Person { public: Person(std::string name); ~Person(); std::string GetAttributes(); private: struct pImplPerson; std::unique_ptr&lt;pImplPerson&gt; m_impl; }; #endif // IMPL_PERSON_H Pimpl实现 #include &quot;person.h&quot;#include &lt;iostream&gt; struct Person::pImplPerson { std::string m_name; std::string m_strength; std::string m_speed; }; Person::Person(std::string name) { m_impl = std::make_unique&lt;pImplPerson&gt;(); m_impl-&gt;m_name = name; m_impl-&gt;m_speed = &quot;n/a&quot;; m_impl-&gt;m_strength = &quot;n/a&quot;; } Person::~Person() {} std::string Person::GetAttributes() { std::string retStr = &quot;name: &quot; + m_impl-&gt;m_name + &quot; speed: &quot; + m_impl-&gt;m_speed + &quot; strength: &quot; + m_impl-&gt;m_strength; return retStr; } 参考链接  why-should-the-pimpl-idiom-be-used Pimpl For Compile-Time Encapsulation (Modern C++)</p>

        
        </div>

      
      <div class="post__footer">
        <em class="fas fa-calendar-day"></em>
        <span class="post__footer-date"
          >
            
              Sat, Jul 9, 2022


            


          </span
        >
        
          <span><a class="category" href="/categories/c&#43;&#43;/">C&#43;&#43;</a></span>




        

        
          <span><a class="tag" href="/tags/c&#43;&#43;/">C&#43;&#43;</a></span>




        
      </div>
    </div>

  
    <div
      class="post 
        animated fadeInDown

      "
    >
      
      <div class="post__content">
        <h3><a href="/blog/onwership-in-rust/">ONWERSHIP IN RUST</a></h3>
        
          <p>什么是所有权？ Rust的核心特性就是所有权。
所有程序在运行时都必须管理他们使用计算机内存的方式。通常的语言存在以下两种情况。
带有垃圾回收机制例如Java、C#，在程序运行时，垃圾回收器会不断地寻找不再使用的内存。 程序员显示地分配和释放内存，例如C/C++语言。  Rust语言采取了第三种方式，内存通过一个所有权系统来管理，其中包含一组编译器在编译时检查的规则。当程序运行时，所有权特性不会减慢程序的运行速度（因为Rust把内存管理相关的工作提前到编译时）。
Stack (栈内存) vs Heap (堆内存) 在像Rust这样的系统级编程语言里，一个值在stack上还是heap上对语言的行为和你为什么要做某些决定时存在更大影响的。
存储数据  Stack （后进先出 LIFO Last in first out）  栈上添加数据为压入栈 栈上移除数据为弹出栈   所有存储在Stack上的数据必须拥有已知的固定的大小  编译时大小未知的数据或者运行时可能发生变化的数据必须存放在heap上   Heap对于内存的组织性差一些  当把数据放入到heap时，会请求一定数量的空间 操作系统在heap里找到一块足够大的空间，把它标记为在用，并返回一个指针，也就是这个空间的地址 这个过程就叫做在heap上分配    把值push到stack上不叫分配，因为指针ptr是已知固定大小的，可以把指针存放在stack上。如果你想访问实际的数据，你必须使用指针来定位
The size of a pointer is not fixed. It depends upon different issues like operating system, CPU architecture etc. Usually it depends upon the word size of underlying processor for example a 32 bit computer the pointer size can be 4 bytes.</p>

        
        </div>

      
      <div class="post__footer">
        <em class="fas fa-calendar-day"></em>
        <span class="post__footer-date"
          >
            
              Fri, Nov 26, 2021


            


          </span
        >
        
          <span><a class="category" href="/categories/2021/">2021</a><a class="category" href="/categories/rust/">Rust</a></span>




        

        
          <span><a class="tag" href="/tags/rust/">Rust</a></span>




        
      </div>
    </div>

  
    <div
      class="post 
        animated fadeInDown

      "
    >
      
      <div class="post__content">
        <h3><a href="/blog/about-tmux-and-vim/">ABOUT TMUX AND VIM</a></h3>
        
          <p><p>记录以下最近使用Tmux的一些设置和Vim的一些小技巧 tmux tmux是类UNIX操作系统里面一款终端工具，常用来作为终端分屏或者挂起后台进程等
创建一个Session 我们可以使用tmux new session -s mysessionName 来创建一个Session，我在我的环境变量里将其设置了一个aliasalias tnew=&quot;tmux new session -s&quot;,这样子就可以直接使用tnew mysession直接创建一个新的session，不用敲那么多命令
挂起当前Session 挂起当前的这个session可以使用组合键Ctrl+b D(默认Control键加b然后按大写d)
创建一个分屏  使用组合键Ctrl+b &quot;用来创建一个Horizontal的pane 使用组合键Ctrl+b %用来创建一个Vertical的pane  使用hjkl在不同的pane之间来回切换 这边我们需要修改以下tmux的配置文件 ~/.tmux.conf,这样子我们可以使用组合键Ctrl+b hjkl来回切换
bind h select-pane -L bind j select-pane -D bind k select-pane -U bind l select-pane -R 使用hjkl对pane进行resize 在tmux的配置文件中加入以下配置</p>
<h1 id="绑定ctrlhjkl键为面板上下左右调整边缘的快捷指令--注意我们还是需要先按下tmux的命令键-ctrlb-bind--r-k-resizep--u-10--绑定ctrlk为往调整面板边缘10个单元格-bind--r-j-resizep--d-10--绑定ctrlj为往调整面板边缘10个单元格-bind--r-h-resizep--l-10--绑定ctrlh为往调整面板边缘10个单元格-bind--r-l-resizep--r-10--绑定ctrll为往调整面板边缘10个单元格-vim中的宏-昨天在处理一些文本需要一些批量化的工作去做例如我需要将以下的文本删除最前的时间字符后面的字符是特定格式的于是我就想着要不要用vim的宏去处理一下">绑定Ctrl+hjkl键为面板上下左右调整边缘的快捷指令 # 注意我们还是需要先按下Tmux的命令键 Ctrl+b bind -r ^k resizep -U 10 # 绑定Ctrl+k为往↑调整面板边缘10个单元格 bind -r ^j resizep -D 10 # 绑定Ctrl+j为往↓调整面板边缘10个单元格 bind -r ^h resizep -L 10 # 绑定Ctrl+h为往←调整面板边缘10个单元格 bind -r ^l resizep -R 10 # 绑定Ctrl+l为往→调整面板边缘10个单元格 Vim中的宏 昨天在处理一些文本需要一些批量化的工作去做，例如我需要将以下的文本删除最前的时间字符，后面的字符是特定格式的，于是我就想着要不要用vim的宏去处理一下</h1>
</p>

        
        </div>

      
      <div class="post__footer">
        <em class="fas fa-calendar-day"></em>
        <span class="post__footer-date"
          >
            
              Sun, Aug 15, 2021


            


          </span
        >
        
          <span><a class="category" href="/categories/2021/">2021</a><a class="category" href="/categories/vim/">Vim</a><a class="category" href="/categories/tmux/">Tmux</a></span>




        

        
          <span><a class="tag" href="/tags/vim/">Vim</a><a class="tag" href="/tags/tmux/">Tmux</a></span>




        
      </div>
    </div>

  
    <div
      class="post 
        animated fadeInDown

      "
    >
      
      <div class="post__content">
        <h3><a href="/blog/use-systemd-in-docker-container/">USE SYSTEMD IN DOCKER CONTAINER</a></h3>
        
          <p>Use systemd in docker container 公司的代码比较老旧加上使用的gcc版本也比较低，我放弃了在macOS上直接开发，之前在自己搭建的CentOS7虚拟机下面搭建了一个开发环境，其实环境还是很OK的，但是虚拟机有个缺点就是没有那么方便迁移，且比较笨重，于是我想着能不能将开发环境容器化，于是遇到systemd在docker下面的问题，便记录下来。
Solution 通过不断的Google，我终于成功的在CentOS7的container下面用起了systemd和ccls, 首先我们需要一个下面的Dockerfile
FROMcentos:7ENV container dockerRUN yum -y install systemd; yum clean all;RUN (cd /lib/systemd/system/sysinit.target.wants/; for i in ; do [ $i == systemd-tmpfiles-setup.service ] || rm -f $i; done);RUN rm -rf /lib/systemd/system/multi-user.target.wants/;RUN rm -rf /etc/systemd/system/.wants/;RUN rm -rf /lib/systemd/system/local-fs.target.wants/;RUN rm -rf /lib/systemd/system/sockets.target.wants/udev;RUN rm -rf /lib/systemd/system/sockets.target.wants/initctl;RUN rm -rf /lib/systemd/system/basic.target.wants/;RUN rm -rf /lib/systemd/system/anaconda.target.wants/*;VOLUME [ &quot;/sys/fs/cgroup&quot; ] RUN yum -y install gccRUN yum -y install epel-releaseRUN yum -y install snapdCMD [&quot;/usr/sbin/init&quot;]在Docker目录的同级目录下面执行docker build -t dev .</p>

        
        </div>

      
      <div class="post__footer">
        <em class="fas fa-calendar-day"></em>
        <span class="post__footer-date"
          >
            
              Tue, Aug 3, 2021


            


          </span
        >
        
          <span><a class="category" href="/categories/linux/">Linux</a></span>




        

        
          <span><a class="tag" href="/tags/linux/">Linux</a><a class="tag" href="/tags/docker/">Docker</a></span>




        
      </div>
    </div>

  
  <div class="pagination">
    
  <ul class="pagination__list">
    
    
    
    
      
        <li class="pagination__list-item">
          <span class="page-link current">1</span>
        </li>

      


    
      
        <li class="pagination__list-item">
          <a class="page-link" href="/page/2/">2</a>
        </li>

      


    
      
        <li class="pagination__list-item">
          <a class="page-link" href="/page/3/">3</a>
        </li>

      


    
    
      <li class="pagination__list-item">
        <a class="page-link" href="/page/2/">
          <i class="fa fa-angle-right" aria-label="Next"></i>
        </a>
      </li>

    
  </ul>



  </div>


      </main>
    </div><footer class="footer footer__base">
  <ul class="footer__list">
    <li class="footer__item">
      &copy;
      
        LofiCafe
        2022


      
    </li>
    
  </ul>
</footer>
  
  <script
    type="text/javascript"
    src="/js/medium-zoom.min.fae9ac8895995fe91958b3954be11e96025824a04770726a3531e119ddd2d576.js"
    integrity="sha256-&#43;umsiJWZX&#43;kZWLOVS&#43;EelgJYJKBHcHJqNTHhGd3S1XY="
    crossorigin="anonymous"
  ></script></body>
</html>
