<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1">

  
    
    
      <link href="/css/fonts.css" rel="stylesheet" type="text/css">
    
  

  
  <title>TreeBoyLife</title>

  
  
  <link rel="stylesheet" href="/css/hugo-octopress.css">

  
  

  
    <link rel="stylesheet" href="/css/fork-awesome.min.css">
  

  
  <link href="https://treeboylife.com/favicon.png" rel="icon">

  
  <link href="/index.xml" rel="alternate" type="application/rss+xml" title="TreeBoyLife" />

  <meta name="description" content="Blog about tech and life" />
  <meta name="keywords" content="">
  <meta name="author" content="TreeBoy">

  
  <meta name="generator" content="Hugo 0.84.4" />

  
  

  
  
</head>
<body>


<header role="banner">
<hgroup>
  
  <h1><a href="https://treeboylife.com/">TreeBoyLife</a></h1>
    <h2>Be curious. Read widely. Try new things.</h2>
</hgroup></header>


<nav role="navigation">
<fieldset class="mobile-nav">
  
  <select onchange="location = this.value;">
    <option value="">Navigate…</option>
      
        <option value="https://treeboylife.com/">» Blog</option>
      
        <option value="https://www.google.com/">» Google</option>
      
  </select>
</fieldset>


<ul class="main-navigation">
  
  
    
      <li><a href="https://treeboylife.com/" title="Blog">Blog</a></li>
    
  
    
      <li><a href="https://www.google.com/" title="Google"  target="_blank"  rel="noopener noreferrer">Google</a></li>
    
  
</ul>

<ul class="subscription">
  
    
        <a href="https://treeboylife.com/index.xml" target="_blank" type="application/rss+xml" title="RSS" rel="noopener noreferrer"><i class="fa fa-rss-square fa-lg"></i></a>
    
  
</ul>


  <form action="https://www.google.com/search" method="get" target="_blank" rel="noopener noreferrer">
    <fieldset role="search">
      <input class="search" type="text" name="q" results="0" placeholder="Search"/>
      <input type="hidden" name="q" value="site:https://treeboylife.com/" />
    </fieldset>
  </form>

</nav>




  

<div id="main">
  <div id="content">
    <div class="blog-index">
      
      
      <article>
        
        

<header>
  <p class="meta">Aug 2, 2021
     - 1 minute read 
     - <a href="https://treeboylife.com/blog/iptables-port-forwarding-settings/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://treeboylife.com/categories/linux/">Linux </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://treeboylife.com/blog/iptables-port-forwarding-settings/">Iptables Port Forwarding Settings</a>
  </h1>
</header>

        
          <p>Linux iptables转发 最近在使用Apsara专有云，但是其安全组策略有一些限制，原本我们需要使用A机器访问C机器，可惜目前A机器因为安全组策略的原因无法正常访问，但凑巧的是目前有一台中转节点B，A可以访问B，B也可以访问C
于是我想起了之前Linux用iptables做端口转发的，这边简单记录一下
示意图 目前简单的网络架构是这样子的
我们首先需要在服务器B上面开启端口转发功能，需要给sysctl.conf写入端口转发配置
net.ipv4.ip_forward=1 执行sysctl -p使其生效，最后配置iptables
iptables -t nat -A PREROUTING -p tcp --dport 8080 -j DNAT --to-destination 1.1.1.1:8080 iptables -t nat -A POSTROUTING -p tcp -d 1.1.1.1 --dport 8080 -j SNAT --to-source 192.168.2.1 这样子我们就可以服务器A访问服务器B的8080端口实现访问服务器C的8080端口效果</p>
          
        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">Jul 24, 2021
     - 1 minute read 
     - <a href="https://treeboylife.com/blog/comments-in-rust/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://treeboylife.com/categories/2021/">2021 </a><a class="label" href="https://treeboylife.com/categories/rust/">Rust </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://treeboylife.com/blog/comments-in-rust/">Comments in Rust</a>
  </h1>
</header>

        
          <p>Rust语言中的注释 任何语言都需要注释，Rust语言提供几个不同的注释方式
 普通的注释  // 一些注释 /* 块注释 */ # 下面是文档的注释，可以被parse到HTML的库文档中 /// 生成库文档 //! </p>
          
        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">Jul 24, 2021
     - 1 minute read 
     - <a href="https://treeboylife.com/blog/hello-world-rust/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://treeboylife.com/categories/2021/">2021 </a><a class="label" href="https://treeboylife.com/categories/rust/">Rust </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://treeboylife.com/blog/hello-world-rust/">Hello World Rust</a>
  </h1>
</header>

        
          <p>Hello World Rust 语言中最简单的一个Hello World程序
fn main() { println!(&#34;Hello Rust!&#34;); } 在Rust中println!是一个宏(Marco)用于输出字符串
rust程序文件后缀为 rs 编译一个rust程序，可以使用 rustc helloworld.rs rustc编译器编译完程序文件后可以生成一个二进制文件</p>
          
        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">Jul 16, 2021
     - 1 minute read 
     - <a href="https://treeboylife.com/blog/stored-procedure-analysis/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://treeboylife.com/categories/ts/">TS </a><a class="label" href="https://treeboylife.com/categories/2021/">2021 </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://treeboylife.com/blog/stored-procedure-analysis/">Stored Procedure Analysis</a>
  </h1>
</header>

        
          <p>记录一次存储过程耗时分析 公司某个项目的web数据库一些表经过了一些调整导致了一个主要核心业务的存储过程变得非常之慢，于是想要从存储过程中
在一些关键性的地方打印出一些调试信息和时间信息，因为我们使用了RDS，所以没有办法将日志重定向到某个文件，因此
我搜索了一下互联网，最终从stackoverflow中找到了一些思路，由于忘记保存书签了，没办法发到记录到这片博文中。
主要思路 调试语句的主要思路就是创建一个零时的表例如debugMsg
DROP TABLE IF EXISTS `debugMsg`; CREATE TABLE `debugMsg` ( `msg` varchar(255) DEFAULT NULL, `datetime` int(8) DEFAULT NULL ) ENGINE=InnoDB DEFAULT CHARSET=utf8; 在我们执行特定语句的前后分别加入调试语句，将记录插入到debugMsg表中，已达到获取该段SQL执行时间的粗略时间,并且在存储过程最前加入一个标记位，方便开启关闭调试
set @debug_enable=FALSE; IF @debug_enable THEN delete from debugMsg; END IF; ... IF @debug_enable THEN INSERT INTO debugMsg(msg, datetime) VALUES (&#34;create case xxxxx....&#34;, UNIX_TIMESTAMP()); END IF; 业务代码部分 IF @debug_enable THEN INSERT INTO debugMsg(msg, datetime) VALUES (&#34;END create case xxxxx....&#34;, UNIX_TIMESTAMP()); END IF; </p>
          
        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">Apr 17, 2021
     - 1 minute read 
     - <a href="https://treeboylife.com/blog/leetcode_easy_twosum/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://treeboylife.com/categories/leetcode/">leetcode </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://treeboylife.com/blog/leetcode_easy_twosum/">Leetcode_easy_twosum</a>
  </h1>
</header>

        
          <p>Two Sum Given an array of integers nums and an integer target, return indices of the two numbers such that they add up to target.
Solution brute-force class Solution { public: vector&lt;int&gt; twoSum(vector&lt;int&gt;&amp; nums, int target) { for(int i=0; i &lt; nums.size(); ++i) { int left = target - nums[i]; for(int j=i+1; j &lt; nums.size(); j++) { if(nums[j] == left) { return {i, j}; } } } return {}; } }; hashmap class Solution { public: vector&lt;int&gt; twoSum(vector&lt;int&gt;&amp; nums, int target) { unordered_map&lt;int, int&gt; indices; for(int i=0; i &lt; nums.</p>
          
            <footer>
              <a href="https://treeboylife.com/blog/leetcode_easy_twosum/" rel="full-article">Would you like to know more? →</a>
            </footer>
          
        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">Mar 8, 2021
     - 2 minute read 
     - <a href="https://treeboylife.com/blog/ipopt-build/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://treeboylife.com/categories/optimizer/">Optimizer </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://treeboylife.com/blog/ipopt-build/">Ipopt Build</a>
  </h1>
</header>

        
          <p>What is Ipopt Ipopt (Interior Point Optimizer) is an open source software package for large-scale nonlinear optimization. You can find the official documentation HERE.
How to Buid It The Ipopt relies some dependencies. Make sure install them first.
 LAPACK (Linear Algebra Package) HSL (Harwell Subroutines Library) ThirdParty-HSL  Compile And Install LAPACK First we need to download the source code and compile to dynamic shared library.
wget https//github.com/Reference-LAPACK/lapack/archive/v3.9.0.tar.gz The LAPACK is compiled to static library by default with unmodified rule, we need to change the 45th line of CMakeLists.</p>
          
            <footer>
              <a href="https://treeboylife.com/blog/ipopt-build/" rel="full-article">Would you like to know more? →</a>
            </footer>
          
        
      </article>
      
      
      






<div class="pagination">

    
        
        
        
        <a href="/" aria-label="First" class="label-pagination"><i class="fa fa-angle-double-left fa-lg"></i></a>
    

    

    
        <a href="/" class="label-pagination">1</a>
    
        <a href="/page/2/" class="label-pagination">2</a>
    

    
    
        <a href="/page/2/" aria-label="Next" class="label-pagination"><i class="fa fa-angle-right fa-lg"></i></a>
    

    
    
        <a href="/page/2/" aria-label="Last"><i class="fa fa-angle-double-right fa-lg"></i></a>
    

</div>

  
    </div>
    

<aside class="sidebar thirds">
  <section class="first odd">

    
      <h1>Hi, I&rsquo;m treeboy</h1>
    

    <p>
      
        I am currently working for <a href="https://www.nrec.com/en">NREC</a> as a Software Engineer.
<!-- raw HTML omitted -->
I like reading and coding and i will share a lot about my life on this site. : )
<!-- raw HTML omitted -->
      
    </p>
  </section>



  
  <ul class="sidebar-nav">
    <li class="sidebar-nav-item">
      <a target="_blank" rel="noopener noreferrer" href="https://github.com/cyber-prog0x/" title="https://github.com/cyber-prog0x/"><i class="fa fa-github fa-3x"></i></a>
      
      
      <a target="_blank" rel="noopener noreferrer" href="https://twitter.com/LinuxDing/" title="https://twitter.com/LinuxDing/"><i class="fa fa-twitter fa-3x"></i></a>
      
         
      
      
      
      
      
      
      
      

    
    
    </li>
  </ul>

  

  
    
      <section class="odd">
        
          <h1>Blogroll</h1>
        
        
          <li>
            <a href="https://wwyqianqian.github.io/" title="wwyqianqian" >wwyqianqian</a>
          </li>
        
          <li>
            <a href="https://findhao.net" title="FindHao" >FindHao</a>
          </li>
        
          <li>
            <a href="https://dmesg.app" title="Benny" >Benny</a>
          </li>
        
          <li>
            <a href="https://rehoni.github.io/" title="rehoni" >rehoni</a>
          </li>
        
      </section>
    
  

  
  
  
    
      <section class="even">
        <h1>Recent Posts</h1>
        <ul id="recent_posts">
          
          
        </ul>
      </section>
    
  
</aside>
    
  </div>
</div>
    <footer role="contentinfo">
      <p>Copyright &copy; 2021 TreeBoy - <a href="https://treeboylife.com/license/">License</a> -
        <span class="credit">Powered by <a target="_blank" href="https://gohugo.io" rel="noopener noreferrer">Hugo</a> and <a target="_blank" href="https://github.com/parsiya/hugo-octopress/" rel="noopener noreferrer">Hugo-Octopress</a> theme.
      </p>
    </footer>

    
    
    

    
  </body>
</html>
   

